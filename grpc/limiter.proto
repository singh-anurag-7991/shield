syntax = "proto3";

package limiter;

service LimiterService {
    rpc CheckLimit (CheckRequest) returns (CheckResponse) {}
}

message CheckRequest {
    string key = 1;
    string endpoint = 2;
}

message CheckResponse {
    bool allowed = 1;
    LimiterStats stats = 2;
}

message LimiterStats {
    int64 remaining = 1;
    int64 limit = 2;
    int64 reset = 3;
}